---
layout: default
title: club38 patterns
---

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/MotionPathPlugin.min.js"></script>

<style>  
    #wind-window {
        position: relative;
        height: 400px;
        width: 800px;
        border: 1px solid #586e75;
        background-image: url("/assets/images/kilkennySky.png");
        background-size: 800px 400px;
    }

    #kite-wrap, #kite { 
        position: absolute;
        top: 365px;
        left: 385px;
        width: 45px; 
        height: 25px; 
        background-size: 45px 25px;
    } 

    #kite { 
        background-image: url("/assets/images/kite.png");
        transform-origin: 50% 35%;
        top: 0;
        left: 0;
    }

    .wrap img {border: none;}

    .pathTestPoint {
        position: absolute;
        height: 6px;
        width: 6px;
        background-color: #f00;
    }
</style>

<div id="wind-window">
    <div id="kite-wrap">
        <div id="kite"></div>
    </div>
</div>

<input type="button" value="reset" onclick="reset();" />
<input type="button" value="L-1" onclick="L1();" />
<input type="button" value="L-2" onclick="L2();" />
<input type="button" value="L-3" onclick="L3();" />
<input type="button" value="L-4" onclick="L4();" />
<input type="button" value="L-5" onclick="L5();" />

<script>
    var k = document.getElementById('kite-wrap');
    var kImg = document.getElementById('kite');

    // Gsap movements are measured from an objects starting position.
    // For left/right values we decrease/increase from the 'centre' of 385px.
    const lf = -335;
    const lfIsh = -135;
    const xMid = 385;
    const riIsh = 135;
    const ri = 315;

    // y values are 0 at the top and 400 at the bottom.
    // The displacement values are negative because the kite's 
    // starting position is 365px.
    const ground = -35;
    const low = -45;
    const lowIsh = -125;
    const yMid = -200;
    const hiIsh = -280; 
    const hi = -335;

    let path = [
    ];
    //testPath(path);

    gsap.registerPlugin(MotionPathPlugin);
    var timeline = gsap.timeline({defaults: {duration: 1, ease: 'sine.inOut', delay: .5}});

    function testPath(path) {
        for (point in path) {
            var x = xMid + path[point].x;
            var y = 400 - Math.abs(path[point].y);

            var dv = $('<div class="pathTestPoint"/>')
                .css({
                    left: x,
                    top: y
                })
                .attr('title', point)
                .appendTo('#wind-window');
        }
    }

    function reset() {
        gsap.set([k, kImg], {
            x: 0,
            y: 0,
            rotation: 0
        });
    }

    function L5() {
        reset();

        timeline
            .to(k, {
                rotation: '-180_cw',
                duration: .5,
                delay: 0
            })
            .to(k, {y: -40})
            .to(k, {
                rotation: '-90_cw',
                duration: .5
            })
            .to(k, {
                x: lf,
                duration: 2
            })
            .to(k, {rotation: '90_ccw'})
            .to(k, {
                x: ri,
                duration: 3,
            })
            .to(k, {
                rotation: '-90_cw',
                duration: 1
            })
            // Figure eight.
            .to(k, {
                duration: 11,
                ease: 'sine.inOut', 
                motionPath: { 
                    path: [
                        {x: lfIsh, y: hi},
                        {x: lf, y: yMid},
                        {x: lfIsh, y: low},
                        {x: riIsh, y: hi},
                        {x: ri, y: yMid},
                        {x: riIsh, y: low},
                        {x: lfIsh, y: hi},
                        {x: lf, y: yMid},
                        {x: lfIsh, y: low},
                        {x: riIsh, y: hi},
                    ],
                    start: 0,
                    end: 1,
                    curviness: .9,
                    autoRotate: 90,
                }
            })
            .to(k, {
                rotation: '90_shortest',
                duration: .5
            })
            // Slide Box.
            .to(k, {
                x: riIsh,
                y: hi,
                rotation: 90,
                duration: .5,
            })
            .to(k, {
                x: riIsh,
                y: yMid,
                duration: 1,
            })
            .to(k, {
                x: 0,
                y: yMid,
                duration: 1,
            })
            .to(k, {
                x: 0,
                y: hi,
                duration: 1,
            })
            .to(k, {
                x: riIsh,
                y: hi,
                duration: 1,
            })
            // Spiral in.
            .to(k, {
                duration: 6,
                ease: 'sine.inOut', 
                motionPath: { 
                    path: [
                        {x: riIsh, y: yMid},
                        {x: riIsh - 40, y: yMid + 100},
                        {x: 0, y: low},
                        {x: lfIsh + 40, y: yMid + 100},
                        {x: lfIsh, y: yMid},
                        {x: lfIsh + 40, y: yMid - 85},
                        {x: 0, y: hi},
                        {x: riIsh - 80, y: yMid - 85},
                        {x: riIsh - 60, y: yMid},
                        {x: riIsh - 85, y: yMid + 45},
                        {x: 0, y: lowIsh},
                        {x: lfIsh + 85, y: yMid + 45},
                        {x: lfIsh + 60, y: yMid},
                        {x: lfIsh + 85, y: yMid - 45},
                        {x: 0, y: hiIsh},
                        {x: riIsh - 95, y: yMid - 45},
                        {x: 30, y: yMid},
                        {x: 0, y: yMid + 30},
                        {x: 0, y: yMid},
                    ],
                    start: 0,
                    end: 1,
                    curviness: .5,
                    type: 'soft',
                    autoRotate: 90,
                }
            })
            .to(k, {
                rotation: 90,
                duration: .5,
                delay: 0
            })
            .to(k, {
                rotation: '0_shortest',
                duration: .5,
                delay: 0
            })
            .to(k, {
                rotation: '180_ccw',
                duration: .5,
                delay: 1
            })
            // Spiral out.
            .to(k, {
                delay: 0,
                duration: 6,
                ease: 'sine.inOut', 
                motionPath: { 
                    path: [
                        {x: 0, y: yMid},
                        {x: 0, y: yMid + 30},
                        {x: 30, y: yMid},
                        {x: riIsh - 95, y: yMid - 45},
                        {x: 0, y: hiIsh},
                        {x: lfIsh + 85, y: yMid - 45},
                        {x: lfIsh + 60, y: yMid},
                        {x: lfIsh + 85, y: yMid + 45},
                        {x: 0, y: lowIsh},
                        {x: riIsh - 85, y: yMid + 45},
                        {x: riIsh - 60, y: yMid},
                        {x: riIsh - 80, y: yMid - 85},
                        {x: 0, y: hi},
                        {x: lfIsh + 40, y: yMid - 85},
                        {x: lfIsh, y: yMid},
                        {x: lfIsh + 40, y: yMid + 100},
                        {x: 0, y: low},
                        {x: riIsh - 40, y: yMid + 100},
                        {x: riIsh, y: yMid},
                        {x: riIsh - 20, y: hiIsh},
                        {x: 0, y: hi},
                    ],
                    start: 0,
                    end: 1,
                    curviness: .5,
                    type: 'soft',
                    autoRotate: 90,
                }
            })
            .to(k, {rotation: '-180_ccw'})
            .to(k, {
                y: low,
                duration: .5,
                ease: 'sine.in'
            })
            .to(k, {rotation: '0_cw'})
            .to(k, {y: 0})
    }

    function L4() {
        reset();

        timeline
            .to(kImg, {rotation: '-180_cw'})
            .to(k, {y: -40})
            .to (k, {
                duration: 4,
                ease: 'sine.inOut', 
                motionPath: { 
                    path: [
                        {x: -262, y: -25},
                        {x: -310, y: -165},
                    ],
                    autoRotation: false,
                    start: 0,
                    end: 1,
                    curviness: .3
                }
            })
            .to(kImg, {rotation: '-90_cw', delay: 2}, "<")
            .to(k, {x: lfIsh, duration: 2})
            .to(kImg, {rotation: '270_cw'})
            .to(kImg, {rotation: '-90_ccw'})
            .to(kImg, {rotation: '90_ccw'})
            .to(k, {x: riIsh, duration: 2})
            .to(kImg, {rotation: '450_cw'})
            .to(kImg, {rotation: '90_ccw'})
            .to(k, {x: 0, duration: 2})
            .to(k, {y: 0 - 5, duration: 2.5})
            .to(k, {y: yMid, duration: 3})
            .to(kImg, {rotation: '-90_ccw', delay: 0})
            .to(k, {y: 0 - 5, duration: 2.5})
            .to(k, {y: yMid, duration: 3})
            .to(k, {x: lf, duration: 2})
            .to(k, {
                duration: 8,
                ease: 'sine.inOut', 
                motionPath: { 
                    path: [
                        {x: lf, y: yMid},
                        {x: lf, y: low},
                        {x: ri, y: low},
                        {x: ri, y: yMid},
                        {x: riIsh, y: hi},
                        {x: 0, y: hi},
                    ],
                    start: 0,
                    end: 1,
                    curviness: .4
                }
            }, 'underSweep')
            .to(kImg, {rotation: '-180_ccw'}, "underSweep+=1.1")
            .to(kImg, {
                rotation: '-90_ccw',
                duration: 3,
            }, "underSweep+=3.7")
            .to(kImg, {rotation: '-180_ccw'})
            .to(k, {
                y: low,
                duration: .5,
                ease: 'sine.in'
            })
            .to(kImg, {rotation: '0_cw'})
            .to(k, {y: 0})
    }

    function L3() {
        reset();

        timeline
            .to(k, {rotation: '180_ccw', duration: 0})
            .to(k, {y: low})
            .to(k, {rotation: '0_cw', duration: .5})
            .to(k, {y: yMid})
            .to(k, {x: lfIsh})
            .to(k, {rotation: '-720_ccw', duration: 2})
            .to(k, {x: riIsh, duration: 2})
            .to(k, {rotation: '0_cw', duration: 2})
            .to(k, {x: 0, duration: 1})
            .to(k, {rotation: '90_cw', duration: 1})
            .to(k, {y: lowIsh, duration: 1.5})
            .to(k, {rotation: '-90_ccw', duration: 1, delay: 0})
            .to(k, {y: 0 - 5, duration: 1.5, delay: 0})
    }

    function L2() {
        reset();

        timeline
            .to(k, {y: yMid})
            .to(k, {rotation: '-90_ccw'})
            .to(k, {x: lf, duration: 2})
            .to(k, {rotation: '90_cw'})
            .to(k, {x: ri, duration: 3})
            .to(k, {rotation: '-90_ccw'})
            .to(k, {x: 0, duration: 1.5})
            .to(k, {rotation: '270_cw'})
            .to(k, {x: lf, duration: 2})
            .to(k, {rotation: '90_cw'})
            .to(k, {x: 0, duration: 1.5})
            .to(k, {rotation: '450_ccw'})
            .to(k, {rotation: '360_shortest', delay: 0})
            .to(k, {y: hi})
            .to(k, {rotation: '180_cw'})
            .to(k, {
                y: low,
                duration: .5,
                ease: 'sine.in'
            })
            .to(k, {rotation: '0_cw'})
            .to(k, {y: 0})
    }

    function L1() {
        reset();

        timeline
            .to(k, {y: yMid})
            .to(k, {rotation: '-90_ccw'})
            .to(k, {x: lf, duration: 2})
            .to(k, {rotation: '90_cw'})
            .to(k, {x: ri, duration: 3})
            .to(k, {rotation: '-90_ccw'})
            .to(k, {x: 0, duration: 1.5})
            .to(k, {rotation: '0_cw'})
            .to(k, {y: 0, duration: 2})
    }

</script>
